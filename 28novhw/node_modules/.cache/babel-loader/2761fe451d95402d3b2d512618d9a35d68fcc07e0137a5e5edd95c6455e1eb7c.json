{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { mockLogin, mockRegister } from '../../api/mockApi';\nimport { loginSuccess, logout } from '../slices/authSlice';\nexport const loginUser = createAsyncThunk('auth/loginUser', async (credentials, {\n  rejectWithValue\n}) => {\n  try {\n    const userData = await mockLogin(credentials);\n\n    // Save to localStorage\n    localStorage.setItem('user', JSON.stringify(userData));\n    return userData;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const registerUser = createAsyncThunk('auth/registerUser', async (userData, {\n  rejectWithValue\n}) => {\n  try {\n    const newUser = await mockRegister(userData);\n\n    // Save to localStorage\n    localStorage.setItem('user', JSON.stringify(newUser));\n    return newUser;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const checkAuth = () => dispatch => {\n  const user = localStorage.getItem('user');\n  if (user) {\n    try {\n      const userData = JSON.parse(user);\n      dispatch(loginSuccess(userData));\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      localStorage.removeItem('user');\n    }\n  }\n};\nexport const logoutUser = () => dispatch => {\n  dispatch(logout());\n  localStorage.removeItem('user');\n};","map":{"version":3,"names":["createAsyncThunk","mockLogin","mockRegister","loginSuccess","logout","loginUser","credentials","rejectWithValue","userData","localStorage","setItem","JSON","stringify","error","message","registerUser","newUser","checkAuth","dispatch","user","getItem","parse","console","removeItem","logoutUser"],"sources":["/Users/tlgn/CascadeProjects/mes_systems/28novhw/src/store/actions/authActions.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { mockLogin, mockRegister } from '../../api/mockApi';\nimport { loginSuccess, logout } from '../slices/authSlice';\n\nexport const loginUser = createAsyncThunk(\n  'auth/loginUser',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const userData = await mockLogin(credentials);\n      \n      // Save to localStorage\n      localStorage.setItem('user', JSON.stringify(userData));\n      \n      return userData;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const registerUser = createAsyncThunk(\n  'auth/registerUser',\n  async (userData, { rejectWithValue }) => {\n    try {\n      const newUser = await mockRegister(userData);\n      \n      // Save to localStorage\n      localStorage.setItem('user', JSON.stringify(newUser));\n      \n      return newUser;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const checkAuth = () => (dispatch) => {\n  const user = localStorage.getItem('user');\n  if (user) {\n    try {\n      const userData = JSON.parse(user);\n      dispatch(loginSuccess(userData));\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      localStorage.removeItem('user');\n    }\n  }\n};\n\nexport const logoutUser = () => (dispatch) => {\n  dispatch(logout());\n  localStorage.removeItem('user');\n};\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,SAAS,EAAEC,YAAY,QAAQ,mBAAmB;AAC3D,SAASC,YAAY,EAAEC,MAAM,QAAQ,qBAAqB;AAE1D,OAAO,MAAMC,SAAS,GAAGL,gBAAgB,CACvC,gBAAgB,EAChB,OAAOM,WAAW,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMP,SAAS,CAACK,WAAW,CAAC;;IAE7C;IACAG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;IAEtD,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,OAAON,eAAe,CAACM,KAAK,CAACC,OAAO,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGf,gBAAgB,CAC1C,mBAAmB,EACnB,OAAOQ,QAAQ,EAAE;EAAED;AAAgB,CAAC,KAAK;EACvC,IAAI;IACF,MAAMS,OAAO,GAAG,MAAMd,YAAY,CAACM,QAAQ,CAAC;;IAE5C;IACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACI,OAAO,CAAC,CAAC;IAErD,OAAOA,OAAO;EAChB,CAAC,CAAC,OAAOH,KAAK,EAAE;IACd,OAAON,eAAe,CAACM,KAAK,CAACC,OAAO,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMG,SAAS,GAAGA,CAAA,KAAOC,QAAQ,IAAK;EAC3C,MAAMC,IAAI,GAAGV,YAAY,CAACW,OAAO,CAAC,MAAM,CAAC;EACzC,IAAID,IAAI,EAAE;IACR,IAAI;MACF,MAAMX,QAAQ,GAAGG,IAAI,CAACU,KAAK,CAACF,IAAI,CAAC;MACjCD,QAAQ,CAACf,YAAY,CAACK,QAAQ,CAAC,CAAC;IAClC,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdS,OAAO,CAACT,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDJ,YAAY,CAACc,UAAU,CAAC,MAAM,CAAC;IACjC;EACF;AACF,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAON,QAAQ,IAAK;EAC5CA,QAAQ,CAACd,MAAM,CAAC,CAAC,CAAC;EAClBK,YAAY,CAACc,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
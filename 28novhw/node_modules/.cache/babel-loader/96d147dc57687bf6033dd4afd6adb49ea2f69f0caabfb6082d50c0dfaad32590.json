{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { mockLogin, mockRegister } from '../../api/mockApi';\nexport const loginUser = createAsyncThunk('auth/loginUser', async (credentials, {\n  rejectWithValue\n}) => {\n  try {\n    const userData = await mockLogin(credentials);\n\n    // Save to localStorage\n    localStorage.setItem('user', JSON.stringify(userData));\n    return userData;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const registerUser = createAsyncThunk('auth/registerUser', async (userData, {\n  rejectWithValue\n}) => {\n  try {\n    const newUser = await mockRegister(userData);\n\n    // Save to localStorage\n    localStorage.setItem('user', JSON.stringify(newUser));\n    return newUser;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const checkAuth = () => dispatch => {\n  const user = localStorage.getItem('user');\n  if (user) {\n    try {\n      const userData = JSON.parse(user);\n      dispatch(loginSuccess(userData));\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      localStorage.removeItem('user');\n    }\n  }\n};\nexport const logoutUser = () => dispatch => {\n  dispatch({\n    type: 'auth/logout'\n  });\n  localStorage.removeItem('user');\n};","map":{"version":3,"names":["createAsyncThunk","mockLogin","mockRegister","loginUser","credentials","rejectWithValue","userData","localStorage","setItem","JSON","stringify","error","message","registerUser","newUser","checkAuth","dispatch","user","getItem","parse","loginSuccess","console","removeItem","logoutUser","type"],"sources":["/Users/tlgn/CascadeProjects/mes_systems/28novhw/src/store/actions/authActions.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { mockLogin, mockRegister } from '../../api/mockApi';\n\nexport const loginUser = createAsyncThunk(\n  'auth/loginUser',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const userData = await mockLogin(credentials);\n      \n      // Save to localStorage\n      localStorage.setItem('user', JSON.stringify(userData));\n      \n      return userData;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const registerUser = createAsyncThunk(\n  'auth/registerUser',\n  async (userData, { rejectWithValue }) => {\n    try {\n      const newUser = await mockRegister(userData);\n      \n      // Save to localStorage\n      localStorage.setItem('user', JSON.stringify(newUser));\n      \n      return newUser;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const checkAuth = () => (dispatch) => {\n  const user = localStorage.getItem('user');\n  if (user) {\n    try {\n      const userData = JSON.parse(user);\n      dispatch(loginSuccess(userData));\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      localStorage.removeItem('user');\n    }\n  }\n};\n\nexport const logoutUser = () => (dispatch) => {\n  dispatch({ type: 'auth/logout' });\n  localStorage.removeItem('user');\n};\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,SAAS,EAAEC,YAAY,QAAQ,mBAAmB;AAE3D,OAAO,MAAMC,SAAS,GAAGH,gBAAgB,CACvC,gBAAgB,EAChB,OAAOI,WAAW,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAACG,WAAW,CAAC;;IAE7C;IACAG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;IAEtD,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,OAAON,eAAe,CAACM,KAAK,CAACC,OAAO,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGb,gBAAgB,CAC1C,mBAAmB,EACnB,OAAOM,QAAQ,EAAE;EAAED;AAAgB,CAAC,KAAK;EACvC,IAAI;IACF,MAAMS,OAAO,GAAG,MAAMZ,YAAY,CAACI,QAAQ,CAAC;;IAE5C;IACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACI,OAAO,CAAC,CAAC;IAErD,OAAOA,OAAO;EAChB,CAAC,CAAC,OAAOH,KAAK,EAAE;IACd,OAAON,eAAe,CAACM,KAAK,CAACC,OAAO,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMG,SAAS,GAAGA,CAAA,KAAOC,QAAQ,IAAK;EAC3C,MAAMC,IAAI,GAAGV,YAAY,CAACW,OAAO,CAAC,MAAM,CAAC;EACzC,IAAID,IAAI,EAAE;IACR,IAAI;MACF,MAAMX,QAAQ,GAAGG,IAAI,CAACU,KAAK,CAACF,IAAI,CAAC;MACjCD,QAAQ,CAACI,YAAY,CAACd,QAAQ,CAAC,CAAC;IAClC,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdU,OAAO,CAACV,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDJ,YAAY,CAACe,UAAU,CAAC,MAAM,CAAC;IACjC;EACF;AACF,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAOP,QAAQ,IAAK;EAC5CA,QAAQ,CAAC;IAAEQ,IAAI,EAAE;EAAc,CAAC,CAAC;EACjCjB,YAAY,CAACe,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
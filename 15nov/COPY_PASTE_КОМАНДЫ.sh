#!/bin/bash

# ═══════════════════════════════════════════════════════════════════════════════
# 🚀 COPY-PASTE КОМАНДЫ ДЛЯ ЗАПУСКА
# ═══════════════════════════════════════════════════════════════════════════════

# ⚠️  ВЕРСИЯ PYTHON: 3.11.10 (НЕ 3.13!)
# Проверьте: python --version

# ═══════════════════════════════════════════════════════════════════════════════
# ТЕРМИНАЛ 1: BACKEND
# ═══════════════════════════════════════════════════════════════════════════════

# Скопируйте и вставьте эти команды в первый терминал:

cd /Users/tlgn/CascadeProjects/mes_systems/15nov/my_fastapi_project/backend

source venv/bin/activate

pip install -r requirements.txt

uvicorn main:app --reload --port 8000

# ✅ Ожидайте: INFO:     Uvicorn running on http://127.0.0.1:8000

# ═══════════════════════════════════════════════════════════════════════════════
# ТЕРМИНАЛ 2: FRONTEND
# ═══════════════════════════════════════════════════════════════════════════════

# Скопируйте и вставьте эти команды во второй терминал:

cd /Users/tlgn/CascadeProjects/mes_systems/15nov/my_fastapi_project/frontend

npm install

npm run dev

# ✅ Ожидайте: ➜  Local:   http://localhost:3000/

# ═══════════════════════════════════════════════════════════════════════════════
# БРАУЗЕР
# ═══════════════════════════════════════════════════════════════════════════════

# Откройте браузер и перейдите на:
# http://localhost:3000

# ═══════════════════════════════════════════════════════════════════════════════
# ПРОВЕРКА СТАТУСА
# ═══════════════════════════════════════════════════════════════════════════════

# Проверьте, что backend работает:
curl http://localhost:8000/health

# Должно вернуться:
# {"status":"healthy","version":"1.0.0",...}

# ═══════════════════════════════════════════════════════════════════════════════
# РЕШЕНИЕ ПРОБЛЕМ
# ═══════════════════════════════════════════════════════════════════════════════

# Если порт 8000 занят:
lsof -ti:8000 | xargs kill -9

# Если порт 3000 занят:
PORT=3001 npm run dev

# Если ошибка модуля:
source venv/bin/activate
pip install -r requirements.txt

# ═══════════════════════════════════════════════════════════════════════════════
# ОСТАНОВКА
# ═══════════════════════════════════════════════════════════════════════════════

# Backend: Ctrl+C в терминале 1
# Frontend: Ctrl+C в терминале 2

# ═══════════════════════════════════════════════════════════════════════════════
